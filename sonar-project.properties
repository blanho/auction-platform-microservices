# SonarCloud Configuration
# This file configures analysis properties for SonarCloud

sonar.projectKey=auction-platform-microservices
sonar.organization=your-organization

# Project metadata
sonar.projectName=Auction Platform Microservices
sonar.projectVersion=1.0.0

# Source configuration
sonar.sources=src/
sonar.tests=tests/
sonar.sourceEncoding=UTF-8

# .NET specific settings
sonar.cs.opencover.reportsPaths=**/coverage.opencover.xml
sonar.cs.vstest.reportsPaths=**/TestResults/*.trx

# Exclusions
sonar.exclusions=\
  **/Migrations/**,\
  **/wwwroot/**,\
  **/node_modules/**,\
  **/bin/**,\
  **/obj/**,\
  **/*.Designer.cs,\
  **/web/**

# Coverage exclusions (code not meant to be tested)
sonar.coverage.exclusions=\
  **/Migrations/**,\
  **/Tests/**,\
  **/*.Designer.cs,\
  **/Program.cs,\
  **/Startup.cs,\
  **/HostingExtensions.cs

# Duplication exclusions
sonar.cpd.exclusions=\
  **/Migrations/**,\
  **/Contracts/**,\
  **/*Dto.cs,\
  **/*Request.cs,\
  **/*Response.cs

# Quality Gate - fail the build if not passed
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300

# Branch analysis (SonarCloud feature)
# sonar.branch.name is automatically set by the scanner

# PR decoration
sonar.pullrequest.provider=github

# Issue assignment
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignore "Methods should not have identical implementations" for DTOs
sonar.issue.ignore.multicriteria.e1.ruleKey=csharpsquid:S4144
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*Dto.cs

# Ignore "Cognitive Complexity" for Program.cs bootstrap
sonar.issue.ignore.multicriteria.e2.ruleKey=csharpsquid:S3776
sonar.issue.ignore.multicriteria.e2.resourceKey=**/Program.cs

# Ignore TODO comments (we use issue tracking instead)
sonar.issue.ignore.multicriteria.e3.ruleKey=csharpsquid:S1135
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*
